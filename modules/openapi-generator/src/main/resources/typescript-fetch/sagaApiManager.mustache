import {
	Configuration,
	ConfigurationParameters,
} from "../";

import {
{{#apiInfo}}
{{#apis}}
{{#operations}}
    {{classFilename}},
{{/operations}}
{{/apis}}
{{/apiInfo}}
} from "./";

export class Api {
{{#apiInfo}}
{{#apis}}
{{#operations}}
	public static {{#lambda.camelcase}}{{classFilename}}{{/lambda.camelcase}}: {{classFilename}};
{{/operations}}
{{/apis}}
{{/apiInfo}}

	public static init(apiBasePath: string) {
		const apiBaseConfig: ConfigurationParameters = {
			basePath: apiBasePath,
			credentials: "include",
			headers: {
				'Cache-Control': 'no-cache, no-store' // this is needed to prevent stalling issues in Chrome. Also it is a good behavior for api calls.
			}
		};

{{#apiInfo}}
{{#apis}}
{{#operations}}
		Api.{{#lambda.camelcase}}{{classFilename}}{{/lambda.camelcase}} = new {{classFilename}}(new Configuration(apiBaseConfig));
{{/operations}}
{{/apis}}
{{/apiInfo}}
	}
}